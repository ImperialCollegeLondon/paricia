{% extends "template_list.html" %}

{% block javascript %}

{{ block.super }}

<script>

var btns = '';
var table;

{% if perms.datalogger.view_marca %}
btns = btns + window.btn_detalle_html("{% url 'datalogger:marca_detail' 0 %}");
{% endif %}

{% if perms.datalogger.change_marca %}
btns = btns + "&nbsp;" + window.btn_editar_html("{% url 'datalogger:marca_update' 0 %}");
{% endif %}

{% if perms.datalogger.delete_marca %}
btns = btns + "&nbsp;" + window.btn_eliminar_html("{% url 'datalogger:marca_delete' 0 %}");
{% endif %}


$(document).ready(function() {

    table = $('#table_marca').DataTable({
        language: window.DATATABLES_LANGUAGE,
        scrollX: true,
        "dom": '<"top"f>rt<"bottom"p><"clear">',
        fixedColumns: { leftColumns: 2,},
        columnDefs: [
            { "targets": 0, "visible" : false, "searchable": false },
            { "targets": 1, "defaultOrder": true, "searchable": true,},
            { "targets": 2, "render" : function(data, type, row){ return btns;}  },
        ],
    });


    $('#div_loading').hide();
    $('#div_informacion').show();
    table.columns.adjust().draw();

});

</script>

{% endblock %}


{% block titulo %}Datalogger / Marca{% endblock %}


{% block href_nuevo %}
    {% if perms.datalogger.add_marca %}{% url 'datalogger:marca_create' %}{% endif %}
{% endblock %}


{% block div_informacion_content %}
    <style>
    tr>:nth-child(1) {min-width:  14em; max-width: 20em;}
    </style>

    <table id="table_marca" class="table table-hover table-sm overflowtooltip" >
        <thead>
        <tr>
            <th>Id</th>
            <th>Nombre</th>
            <th>Acci√≥n</th>
        </tr>
        </thead>

        <tbody>{{ marcas|safe }}</tbody>
    </table>
{% endblock %}
