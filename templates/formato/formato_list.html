{% extends "template_list.html" %}

{% block javascript %}

    {{ block.super }}

    <script>

    var btns = '';
    var table;

    {% if perms.formato.view_formato %}
    btns = btns + window.btn_detalle_html("{% url 'formato:formato_detail' 0 %}");
    {% endif %}


    {% if perms.formato.change_formato %}
    btns = btns + "&nbsp;" + window.btn_editar_html("{% url 'formato:formato_update' 0 %}");
    {% endif %}


    {% if perms.formato.delete_formato %}
    btns = btns + "&nbsp;" + window.btn_eliminar_html("{% url 'formato:formato_delete' 0 %}");
    {% endif %}



    $(document).ready(function() {

        table = $('#table_formato').DataTable({
            language: window.DATATABLES_LANGUAGE,
            scrollX: true,
            "dom": '<"top"f>rt<"bottom"p><"clear">',
            fixedColumns: { leftColumns: 2,},
            columnDefs: [
                { "targets": 0, "visible" : false, "searchable": false },
                { "targets": 9,
                   "render" : function(data, type, row){ if (row[9]) {return "Sí";} else { return "-";}}
                },
                { "targets": 12, "render" : function(data, type, row){ return btns;}  },
            ],
        });


        $('#div_loading').hide();
        $('#div_informacion').show();
        table.columns.adjust().draw();

    });

    </script>

{% endblock %}


{% block titulo %}Formato de importación{% endblock %}

{% block href_nuevo %}
    {% if perms.formato.add_formato %}{% url 'formato:formato_create' %}{% endif %}
{% endblock %}

{% block div_informacion_content %}
    <style>
    tr>:nth-child(1) {min-width: 5em; max-width: 10em;}
    tr>:nth-child(2) {min-width: 6em; max-width: 12em;}
    tr>:nth-child(3) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(4) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(5) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(6) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(7) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(8) {min-width: 7em; max-width: 14em;}
    tr>:nth-child(9) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(10) {min-width: 4em; max-width: 7em;}
    tr>:nth-child(11) {min-width: 7em; max-width: 14em;}
    </style>

    <table id="table_formato" class="table table-hover table-sm overflowtooltip" >
        <thead>
        <tr>
            <th>Id</th>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Extensión</th>
            <th>Delimitador</th>
            <th>Fila inicio</th>
            <th>Filas cola</th>
            <th>Col. fecha</th>
            <th>Formato fecha</th>
            <th>UTC (-5 horas)</th>
            <th>Col. Hora</th>
            <th>Formato hora</th>
            <th>Acción</th>
        </tr>
        </thead>

        <tbody>{{ formato|safe }}</tbody>
    </table>
{% endblock %}