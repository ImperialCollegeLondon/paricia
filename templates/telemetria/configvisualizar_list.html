{% extends "index.html" %}
{% load bootstrap4 %}
{% block content %}

{% load static %}


<!-- bootstrap-table-->
<link href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>
<!-- bootstrap-table export-->
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/export/bootstrap-table-export.min.js"></script>
<script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
<script src="https://unpkg.com/tableexport.jquery.plugin/libs/jsPDF/jspdf.min.js"></script>
<script src="https://unpkg.com/tableexport.jquery.plugin/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
<!-- bootstrap-table filter-->
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
<!-- jquery-ui-->
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">


<div class="row">
    <div class="col-lg-9">
        <h4>Telemetría: Asociar Variable a Estación</h4>
    </div>
    <div class="col-lg-3">
        <a id="link_create" style="float:right" class="btn btn-info"
           href="{% url 'telemetria:configvisualizar_create' %}">
            Nueva Asociación</a>
    </div>
</div>


<div style="height:420px" >
    <div id="toolbar" class="select">
        <select class="form-control">
            <option value="">Export Basic</option>
            <option value="selected">Export Selected</option>
        </select>
    </div>
    <table id="table"
           data-show-export="true"
           data-pagination="true"
           data-show-pagination-switch="true"
           data-filter-control="true"
           data-click-to-select="true"
           data-toolbar="#toolbar"
           data-show-columns="true"
           data-show-refresh="true"
           data-url="{% url 'telemetria:json' %}" class="table table-striped table-bordered table-sm">

        <thead>
            <tr>
                <th data-field="state"></th>
                <th data-field="id"></th>
                <th data-field="estacion" data-filter-control="select" data-sortable="true" >Código</th>
                <th data-field="variable" data-filter-control="select" data-sortable="true">Nombre</th>
                <th data-field="umbral_superior" data-filter-control="input" data-sortable="true">Tipo</th>
                <th data-field="umbral_inferior" data-filter-control="input" data-sortable="true">Provincia</th>
                <th data-field="accion">Acción</th>
            </tr>
        </thead>
    </table>
</div>


<!-- Modal -->
<div class="modal fade" id="modal_form" tabindex="-1" role="dialog" aria-labelledby="Asociar Variable a Estación" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Asociar Variable a Estación</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="div_loading_form" style="display:none;">
                    <div class="d-flex align-items-center">
                        <strong>Loading...</strong>
                        <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
                    </div>
                </div>

                <div id="div_message_form" class="container" style="display:none;">
                    <!--<div class="alert alert-danger alert-dismissible" role="alert">
                        Ocurrio un problema con el procesamiento de la información, por favor intentelo nuevamente
                    </div>-->
                </div>

                <div id="div_form">

                </div>

            </div><!--end modal-body-->

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                <button id="btn_guardar" type="button" class="btn btn-primary">Guardar Cambios</button>
            </div>

        </div><!--end modal content-->
    </div><!--end modal-dialog-->
</div><!--modal fade-->




<!-- Modal -->
<div class="modal fade" id="modal_delete" tabindex="-1" role="dialog" aria-labelledby="Asociar Variable a Estación" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Eliminar Registro</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="div_loading_delete" style="display:none;">
                    <div class="d-flex align-items-center">
                        <strong>Loading...</strong>
                        <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
                    </div>
                </div>

                <div id="div_delete">

                </div>

                <div id="div_message_delete" class="row mt-4" style="display:none;">
                    <!--<div class="alert alert-danger alert-dismissible" role="alert">
                        Ocurrio un problema con el procesamiento de la información, por favor intentelo nuevamente
                    </div>-->
                </div>

            </div><!--end modal-body-->

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                <button id="btn_borrar" type="button" class="btn btn-danger">Eliminar</button>
            </div>

        </div><!--end modal content-->
    </div><!--end modal-dialog-->
</div><!--modal fade-->


<script src="{% static 'data-table/configvisualizar.js' %}"></script>


{% endblock %}
