{% extends "base.html" %}

{% load bootstrap4 %}
{% load static %}

{% block extralibraries %}
<link rel="stylesheet" href="{% static 'ext/fontawesome-free-5.13.0-web/css/all.min.css' %}">
<link rel="stylesheet" href="{% static 'ext/jquery-ui-1.12.1/jquery-ui.css' %}">

<script crossorigin="anonymous" src="{% static 'ext/jquery-ui-1.12.1/jquery-ui.js' %}"></script>
<script crossorigin="anonymous" src="{% static 'ext/popper-core_v1.16.1-lts/umd/popper.min.js' %}"></script>

<script crossorigin="anonymous" src="{% static 'ext/plotly-latest.min.js' %}"></script>
<link href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>

<script src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/filter-control/bootstrap-table-filter-control.css">

<link rel="stylesheet" href="{% static 'validated/style.css' %}">
<script src="{% static 'scripts/global.js' %}"></script>
<script src="{% static 'validated/daily_validation.js' %}"></script>

{% endblock %}


{% block content %}

<div style="height: 70px;"></div>

    <div class="row validation-body" >
        <div class="col-md-2">
            <label>Validation module</label>
        </div>
        <div class="col-md-6">
            <a id="btn_clean" class="btn btn-light" href="{% url 'validated:daily_validation' %}"><span>Clean form</span></a>
        </div>
    </div>

<div style="height: 20px;"></div>

<div class="row">
    <div class="col-md-3 left-panel">
            <form id="form_validation" class="form" method="post" action="{% url 'validated:daily_validation' %}">

                    {% csrf_token %}
                    {% bootstrap_form form show_label=True  %}

                    <button id="btn_submit" type="button" class="btn btn-primary">Submit</button>

            </form>
    </div>
    <div class="col-md-9 right-panel ">
        {% include "daily_validation_right_panel.html" %}





    <div id="div_message_dates" class="row mt-4" style="display:none;">
        <div class="alert alert-danger alert-dismissible" role="alert">
            A problem occurred with the processing of the information, please select Dates.
        </div>
    </div>


    <div id="div_message" class="filter row" style="display:none;">
        <div class="alert alert-danger alert-dismissible" role="alert">
            A problem occurred with the processing of the information, please try again.
        </div>
    </div>

<!--    <div class="row m-3">-->
<!--        <div class="col"></div>-->
<!--    </div>-->







    <div id="div_loading_datos" class="row" style="display:none;">
        <div class="col-lg-4 col-md-4 col-sm-4">&nbsp;</div>
        <div class="col-lg-4 col-md-4 col-sm-4">
            <img src="/static/images/loading6.gif"/>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-4">&nbsp;</div>
    </div>

    <div id="div_error_datos" class="row" style="display:none;">
        <div class="alert alert-danger alert-dismissible" role="alert">
            There was a problem with processing the information, please try again.
        </div>
    </div>

    </div>
</div>


    <div class="modal fade" id="modal_modify" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="modal_label_modify" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal_label_modify">Modify</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form_modify">
                        <input type="hidden" name="detail_id">
                        <div class="form-group">
                            <label class="col-form-label">Time:</label>
                            <input type="text" class="form-control" name="detail_time">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Sum</label>
                            <input type="number" step=".000001" class="form-control" name="detail_sum">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Average</label>
                            <input type="number" step=".000001" class="form-control" name="detail_average">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Value</label>
                            <input type="number" step=".000001" class="form-control" name="detail_value">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Maximum</label>
                            <input type="number" step=".000001" class="form-control" name="detail_maximum">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Minimum</label>
                            <input type="number" step=".000001" class="form-control" name="detail_minimum">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button id="btn_detail_modify_row" name="average" type="button" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>



    <div class="modal fade" id="modal_new" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="modal_label_new" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal_label_new">New</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form_new">

                        <div class="form-group">
                            <label class="col-form-label">Date</label>
                            <input type="text" class="form-control" name="new_date">
                        </div>
                        <div class="form-group">
                           <label class="col-form-label">Hour</label>
                            <input type="time" class="form-control" name="new_hour" step="2" required>
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Sum</label>
                            <input type="number" step=".000001" class="form-control" name="new_sum">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Average</label>
                            <input type="number" step=".000001" class="form-control" name="new_average">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Value</label>
                            <input type="number" step=".000001" class="form-control" name="new_value">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Maximum</label>
                            <input type="number" step=".000001" class="form-control" name="new_maximum">
                        </div>
                        <div class="form-group" >
                            <label class="col-form-label">Minimum</label>
                            <input type="number" step=".000001" class="form-control" name="new_minimum">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button id="btn_detail_new_save" name="average" type="button" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal Mensaje Validacion -->
    <div class="modal fade" id="div_validation_message" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="div_message_validacion_label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">message</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="div_body_message" class="modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End Modal Mensaje Validacion -->

<!--    &lt;!&ndash; Modal Gráfico  &ndash;&gt;-->
<!--    <div class="modal fade" id="div_modal_grafico" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">-->
<!--        <div class="modal-dialog modal-xl" role="document">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title">Gráfico</h5>-->
<!--                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
<!--                        <span aria-hidden="true">&times;</span>-->
<!--                    </button>-->
<!--                </div>-->
<!--                <div id="div_grafico" class="modal-body">-->
<!--                    &lt;!&ndash; Plotly chart will be drawn inside this DIV &ndash;&gt;-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->


    <input type="hidden" id="orig_station_id">
    <input type="hidden" id="orig_variable_id">
    <input type="hidden" id="orig_end_date">
    <input type="hidden" id="orig_start_date">
    <input type="hidden" id="orig_lim_sup">
    <input type="hidden" id="orig_lim_inf">
    <input type="hidden" id="orig_date_daily">
    <input type="hidden" id="orig_id_daily">


<!--</div>-->
<div id="espacio" style="padding-bottom:200px;">

</div>
{% endblock %}
